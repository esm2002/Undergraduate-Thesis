#################################################################################
# Design Compiler MCMM Scenarios Setup File Reference
# Script: dc.mcmm.scenarios.tcl
# Version: M-2016.12-SP4 (July 17, 2017)
# Copyright (C) 2011-2017 Synopsys, Inc. All rights reserved.
#################################################################################
#################################################################################
# This is an example of the MCMM scenarios setup file for Design Compiler.
# Please note that this file will not work as given and must be edited for your
# design.
#
# Create this file for each design in your MCMM flow and configure the filename
# with the value of the ${DCRM_MCMM_SCENARIOS_SETUP_FILE} in
# rm_setup/dc_setup_filenames.tcl
#
# It is recommended to use a minimum set of worst case setup scenarios
# and a worst case leakage scenario in Design Compiler.
# Further refinement to optimize across all possible scenarios is recommended
# to be done in IC Compiler.
#################################################################################
#################################################################################
# Additional Notes
#################################################################################
#
# In MCMM, good leakage and dynamic power optimization results can be obtained by
# using a worst case leakage scenario along with scenario-independent clock gating
# (compile_ultra -gate_clock).
#
# A recommended scenario naming convention (used by Lynx) is the following:
#
# <MM_TYPE>.<OC_TYPE>.<RC_TYPE>
#
# MM_TYPE - Label that identifies the operating mode or set of timing constraints
#           Example values: mode_norm, mode_slow, mode_test
#
# OC_TYPE - Label that identifies the library operating conditions or PVT corner
#           Example values: OC_WC, OC_BC, OC_TYP, OC_LEAK, OC_TEMPINV
#
# RC_TYPE - Label that identifies an extraction corner (TLUPlus files)
#           Example values: RC_MAX_1, RC_MIN_1, RC_TYP
#################################################################################
# Define additional setup scenarios here as needed, using the same format.
#################################################################################
# Worst Case Setup Scenario
#################################################################################
set scenario "mode_norm.OC_rvt_$::env(MAX_COND_NAME)"
mode_norm.OC_rvt_ss28_0.90V_0.00V_0.90V_0.00V_125C
create_scenario ${scenario}
Warning: Discarding all scenario specific information previously defined in this session. (UID-1008)
Current scenario is: mode_norm.OC_rvt_ss28_0.90V_0.00V_0.90V_0.00V_125C
1
# Read in scenario-specific constraints file
puts "RM-Info: Sourcing script file [which [dcrm_mcmm_filename ${DCRM_CONSTRAINTS_INPUT_FILE} ${scenario}]]\n"
RM-Info: Sourcing script file /home/intern9/example/syn_topo/mcmm_cons/fp_mac.constraints.mode_norm.OC_rvt_ss28_0.90V_0.00V_0.90V_0.00V_125C.tcl

#puts "RM-Info: Reading SDC file [which [dcrm_mcmm_filename ${DCRM_SDC_INPUT_FILE} ${scenario}]]\n"
# constraint syntax is not based on SDC style.... so at first, just source and do read_sdc after write_sdc
source [dcrm_mcmm_filename ${DCRM_CONSTRAINTS_INPUT_FILE} ${scenario}]
Error: unknown command '_sel3' (CMD-005)
1
##read_sdc [dcrm_mcmm_filename ${DCRM_SDC_INPUT_FILE} ${scenario}]
#set_operating_conditions -max_library <OC_WC_LIB_NAME> -max <OC_WC>
set_operating_conditions $::env(MAX_COND_NAME) -library $::env(CORE_MAX_LIB) -analysis_type on_chip_variation
Using operating conditions 'ss28_0.90V_0.00V_0.90V_0.00V_125C' found in library 'C28SOI_SC_8_CORE_LR_ss28_0.90V_0.00V_0.90V_0.00V_125C_sadhm'.
1
# OCV variation from voltage IR-drop  3.6%
set_timing_derate -early 0.964
1
#set_tlu_plus_files -max_tluplus <OC_WC_TLUPLUS_MAX_FILE> \
                   -tech2itf_map ${MAP_FILE}
set_tlu_plus_files -max_tluplus $TLUPLUS_MAX_FILE \
    -min_tluplus $TLUPLUS_MIN_FILE \
    -tech2itf_map $MAP_FILE
1
check_tlu_plus_files

Sanity check for TLU+ vs MW-Tech files:
 mapping_file: /tool/PDK/samsung/LN28FDS_202408/TECH/LN28FDS_ICC_TECH_TLUP_S00_V2.7.3.6/6U1x_2U2x_2T8x_LB/mapfile
 number of unique tlu+ files in mcmm mode: 2
  /tool/PDK/samsung/LN28FDS_202408/TECH/LN28FDS_ICC_TECH_TLUP_S00_V2.7.3.6/6U1x_2U2x_2T8x_LB/cmos028fdsoi_6U1x_2U2x_2T8x_LB_SigRCmax.tlup
  /tool/PDK/samsung/LN28FDS_202408/TECH/LN28FDS_ICC_TECH_TLUP_S00_V2.7.3.6/6U1x_2U2x_2T8x_LB/cmos028fdsoi_6U1x_2U2x_2T8x_LB_SigRCmin.tlup

--------- Sanity Check on TLUPlus Files -------------
Info: Found HALF_NODE_SCALE_FACTOR 0.900000 in TLUPlus files.
1. Checking the conducting layer names in ITF and mapping file ... 
[ Passed! ]
2. Checking the via layer names in ITF and mapping file ... 
[ Passed! ]
3. Checking the consistency of Min Width and Min Spacing between MW-tech and ITF ... 
[ Passed! ]
----------------- Check Ends ------------------
1
# Include scenario specific SAIF file, if possible, for power analysis.
# Otherwise, the default toggle rate of 0.1 will be used for propagating
# switching activity.
# read_saif -auto_map_names -input ${DESIGN_NAME}.${scenario}.saif -instance < DESIGN_INSTANCE > -verbose
#read_saif -auto_map_names -input ../../../sim/functional/core.m32/reports/waveform.saif -instance tb_${DESIGN_NAME}/u_${DESIGN_NAME} -verbose
# Set options for worst case setup scenario
set_scenario_options -setup true -hold false -leakage_power true  -dynamic_power true
1
report_scenario_options
 
****************************************
Report : scenario_options
Design : fp_mac
Scenario(s): mode_norm.OC_rvt_ss28_0.90V_0.00V_0.90V_0.00V_125C
Version: V-2023.12-SP5-3
Date   : Sun Aug 17 15:40:53 2025
****************************************

Scenario: mode_norm.OC_rvt_ss28_0.90V_0.00V_0.90V_0.00V_125C is active.
 setup         : true 
 hold          : false 
 leakage_power : true 
 dynamic_power : true 

 cts_mode      : false 
 cts_corner    : none 

1
write_sdc -nosplit ${RESULTS_DIR}/[dcrm_mcmm_filename ${DCRM_FINAL_SDC_OUTPUT_FILE} ${scenario}]
1
### Define additional setup scenarios here as needed, using the same format.
###################################################################################
### Worst Case Setup Scenario
###################################################################################
#
set scenario "mode_norm.OC_rvt_$::env(MIN_COND_NAME)"
mode_norm.OC_rvt_ff28_1.10V_0.00V_1.10V_0.00V_m40C
create_scenario ${scenario}
Current scenario is: mode_norm.OC_rvt_ff28_1.10V_0.00V_1.10V_0.00V_m40C
1
# Read in scenario-specific constraints file
puts "RM-Info: Sourcing script file [which [dcrm_mcmm_filename ${DCRM_CONSTRAINTS_INPUT_FILE} ${scenario}]]\n"
RM-Info: Sourcing script file /home/intern9/example/syn_topo/mcmm_cons/fp_mac.constraints.mode_norm.OC_rvt_ff28_1.10V_0.00V_1.10V_0.00V_m40C.tcl

#puts "RM-Info: Reading SDC file [which [dcrm_mcmm_filename ${DCRM_SDC_INPUT_FILE} ${scenario}]]\n"
# constraint syntax is not based on SDC style.... so at first, just source and do read_sdc after write_sdc
source [dcrm_mcmm_filename ${DCRM_CONSTRAINTS_INPUT_FILE} ${scenario}]
Error: unknown command '_sel25' (CMD-005)
1
##read_sdc [dcrm_mcmm_filename ${DCRM_SDC_INPUT_FILE} ${scenario}]
#set_operating_conditions -max_library <OC_WC_LIB_NAME> -max <OC_WC>
set_operating_conditions $::env(MIN_COND_NAME) -library $::env(CORE_MIN_LIB) -analysis_type on_chip_variation
Using operating conditions 'ff28_1.10V_0.00V_1.10V_0.00V_m40C' found in library 'C28SOI_SC_8_CORE_LR_ff28_1.10V_0.00V_1.10V_0.00V_m40C_sadhm'.
1
# OCV variation from voltage IR-drop  3.6%
set_timing_derate -late 1.036
1
#set_tlu_plus_files -max_tluplus <OC_WC_TLUPLUS_MAX_FILE> \
                   -tech2itf_map ${MAP_FILE}
set_tlu_plus_files -max_tluplus $TLUPLUS_MAX_FILE \
    -min_tluplus $TLUPLUS_MIN_FILE \
    -tech2itf_map $MAP_FILE
1
check_tlu_plus_files

Sanity check for TLU+ vs MW-Tech files:
 mapping_file: /tool/PDK/samsung/LN28FDS_202408/TECH/LN28FDS_ICC_TECH_TLUP_S00_V2.7.3.6/6U1x_2U2x_2T8x_LB/mapfile
 number of unique tlu+ files in mcmm mode: 2
  /tool/PDK/samsung/LN28FDS_202408/TECH/LN28FDS_ICC_TECH_TLUP_S00_V2.7.3.6/6U1x_2U2x_2T8x_LB/cmos028fdsoi_6U1x_2U2x_2T8x_LB_SigRCmax.tlup
  /tool/PDK/samsung/LN28FDS_202408/TECH/LN28FDS_ICC_TECH_TLUP_S00_V2.7.3.6/6U1x_2U2x_2T8x_LB/cmos028fdsoi_6U1x_2U2x_2T8x_LB_SigRCmin.tlup

--------- Sanity Check on TLUPlus Files -------------
Info: Found HALF_NODE_SCALE_FACTOR 0.900000 in TLUPlus files.
1. Checking the conducting layer names in ITF and mapping file ... 
[ Passed! ]
2. Checking the via layer names in ITF and mapping file ... 
[ Passed! ]
3. Checking the consistency of Min Width and Min Spacing between MW-tech and ITF ... 
[ Passed! ]
----------------- Check Ends ------------------
1
# Include scenario specific SAIF file, if possible, for power analysis.
# Otherwise, the default toggle rate of 0.1 will be used for propagating
# switching activity.
# read_saif -auto_map_names -input ${DESIGN_NAME}.${scenario}.saif -instance < DESIGN_INSTANCE > -verbose
#read_saif -auto_map_names -input ../../../sim/functional/core.m32/reports/waveform.saif -instance tb_${DESIGN_NAME}/u_${DESIGN_NAME} -verbose
# Set options for worst case setup scenario
set_scenario_options -setup true -hold false -leakage_power true  -dynamic_power true
1
report_scenario_options
 
****************************************
Report : scenario_options
Design : fp_mac
Scenario(s): mode_norm.OC_rvt_ff28_1.10V_0.00V_1.10V_0.00V_m40C
Version: V-2023.12-SP5-3
Date   : Sun Aug 17 15:40:53 2025
****************************************

Scenario: mode_norm.OC_rvt_ff28_1.10V_0.00V_1.10V_0.00V_m40C is active.
 setup         : true 
 hold          : false 
 leakage_power : true 
 dynamic_power : true 

 cts_mode      : false 
 cts_corner    : none 

1
write_sdc -nosplit ${RESULTS_DIR}/[dcrm_mcmm_filename ${DCRM_FINAL_SDC_OUTPUT_FILE} ${scenario}]
1
1
